[
  {
    "name": "users",
    "type": "auth",
    "system": false,
    "schema": [
      { "name": "name", "type": "text", "required": true },
      {
        "name": "role",
        "type": "select",
        "options": { "values": ["speaker", "organizer", "reviewer", "admin"] }
      }
    ],
    "options": {
      "allowEmailAuth": true,
      "allowUsernameAuth": false,
      "minPasswordLength": 6
    }
  },
  {
    "name": "organizations",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "slug", "type": "text", "required": true },
      { "name": "description", "type": "text" },
      { "name": "website", "type": "url" },
      { "name": "contactEmail", "type": "email" },
      {
        "name": "ownerId",
        "type": "relation",
        "options": { "collectionId": "users", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "organization_members",
    "type": "base",
    "schema": [
      {
        "name": "organizationId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "organizations", "maxSelect": 1 }
      },
      {
        "name": "userId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "users", "maxSelect": 1 }
      },
      {
        "name": "role",
        "type": "select",
        "required": true,
        "options": { "values": ["owner", "admin", "organizer", "reviewer"] }
      }
    ]
  },
  {
    "name": "events",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "slug", "type": "text", "required": true },
      { "name": "description", "type": "text" },
      { "name": "website", "type": "url" },
      { "name": "defaultVenue", "type": "text" },
      { "name": "defaultCity", "type": "text" },
      { "name": "defaultCountry", "type": "text" },
      {
        "name": "organizationId",
        "type": "relation",
        "options": { "collectionId": "organizations", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "editions",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "slug", "type": "text", "required": true },
      { "name": "year", "type": "number", "required": true },
      { "name": "startDate", "type": "date", "required": true },
      { "name": "endDate", "type": "date", "required": true },
      { "name": "venue", "type": "text" },
      { "name": "city", "type": "text" },
      { "name": "country", "type": "text" },
      {
        "name": "status",
        "type": "select",
        "options": { "values": ["draft", "published", "archived"] }
      },
      {
        "name": "eventId",
        "type": "relation",
        "options": { "collectionId": "events", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "categories",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "description", "type": "text" },
      { "name": "color", "type": "text" },
      { "name": "order", "type": "number" },
      {
        "name": "editionId",
        "type": "relation",
        "options": { "collectionId": "editions", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "formats",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "description", "type": "text" },
      { "name": "duration", "type": "number", "required": true },
      { "name": "order", "type": "number" },
      {
        "name": "editionId",
        "type": "relation",
        "options": { "collectionId": "editions", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "speakers",
    "type": "base",
    "schema": [
      { "name": "name", "type": "text", "required": true },
      { "name": "email", "type": "email", "required": true },
      { "name": "bio", "type": "text" },
      { "name": "company", "type": "text" },
      { "name": "jobTitle", "type": "text" },
      { "name": "twitter", "type": "text" },
      { "name": "github", "type": "text" },
      { "name": "linkedin", "type": "text" },
      { "name": "website", "type": "url" },
      {
        "name": "userId",
        "type": "relation",
        "options": { "collectionId": "users", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "talks",
    "type": "base",
    "schema": [
      { "name": "title", "type": "text", "required": true },
      { "name": "abstract", "type": "text" },
      { "name": "description", "type": "text" },
      {
        "name": "level",
        "type": "select",
        "options": { "values": ["beginner", "intermediate", "advanced"] }
      },
      { "name": "language", "type": "text" },
      {
        "name": "status",
        "type": "select",
        "options": {
          "values": [
            "draft",
            "submitted",
            "under_review",
            "accepted",
            "rejected",
            "confirmed",
            "declined",
            "withdrawn"
          ]
        }
      },
      { "name": "submittedAt", "type": "date" },
      { "name": "notes", "type": "text" },
      {
        "name": "editionId",
        "type": "relation",
        "options": { "collectionId": "editions", "maxSelect": 1 }
      },
      {
        "name": "categoryId",
        "type": "relation",
        "options": { "collectionId": "categories", "maxSelect": 1 }
      },
      {
        "name": "formatId",
        "type": "relation",
        "options": { "collectionId": "formats", "maxSelect": 1 }
      },
      {
        "name": "speakerIds",
        "type": "relation",
        "options": { "collectionId": "speakers", "maxSelect": 10 }
      }
    ]
  },
  {
    "name": "reviews",
    "type": "base",
    "schema": [
      { "name": "rating", "type": "number", "required": true },
      { "name": "comment", "type": "text" },
      {
        "name": "talkId",
        "type": "relation",
        "options": { "collectionId": "talks", "maxSelect": 1 }
      },
      {
        "name": "userId",
        "type": "relation",
        "options": { "collectionId": "users", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "comments",
    "type": "base",
    "schema": [
      { "name": "content", "type": "text", "required": true },
      {
        "name": "talkId",
        "type": "relation",
        "options": { "collectionId": "talks", "maxSelect": 1 }
      },
      {
        "name": "userId",
        "type": "relation",
        "options": { "collectionId": "users", "maxSelect": 1 }
      }
    ]
  },
  {
    "name": "cfp_settings",
    "type": "base",
    "schema": [
      {
        "name": "editionId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "editions", "maxSelect": 1 }
      },
      { "name": "cfpOpenDate", "type": "date" },
      { "name": "cfpCloseDate", "type": "date" },
      { "name": "introText", "type": "text" },
      { "name": "maxSubmissionsPerSpeaker", "type": "number" },
      { "name": "requireAbstract", "type": "bool" },
      { "name": "requireDescription", "type": "bool" },
      { "name": "allowCoSpeakers", "type": "bool" },
      { "name": "anonymousReview", "type": "bool" }
    ]
  },
  {
    "name": "organization_invitations",
    "type": "base",
    "schema": [
      {
        "name": "organizationId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "organizations", "maxSelect": 1 }
      },
      { "name": "email", "type": "email", "required": true },
      {
        "name": "role",
        "type": "select",
        "required": true,
        "options": { "values": ["admin", "organizer", "reviewer"] }
      },
      {
        "name": "status",
        "type": "select",
        "required": true,
        "options": { "values": ["pending", "accepted", "expired", "cancelled"] }
      },
      {
        "name": "invitedBy",
        "type": "relation",
        "options": { "collectionId": "users", "maxSelect": 1 }
      },
      { "name": "expiresAt", "type": "date" }
    ]
  },
  {
    "name": "email_logs",
    "type": "base",
    "schema": [
      {
        "name": "talkId",
        "type": "relation",
        "options": { "collectionId": "talks", "maxSelect": 1 }
      },
      {
        "name": "speakerId",
        "type": "relation",
        "options": { "collectionId": "speakers", "maxSelect": 1 }
      },
      {
        "name": "editionId",
        "type": "relation",
        "options": { "collectionId": "editions", "maxSelect": 1 }
      },
      {
        "name": "type",
        "type": "select",
        "required": true,
        "options": {
          "values": [
            "submission_confirmed",
            "talk_accepted",
            "talk_rejected",
            "confirmation_reminder",
            "cfp_closing_reminder",
            "cospeaker_invitation"
          ]
        }
      },
      { "name": "to", "type": "email", "required": true },
      { "name": "subject", "type": "text", "required": true },
      {
        "name": "status",
        "type": "select",
        "required": true,
        "options": { "values": ["sent", "failed", "pending"] }
      },
      { "name": "error", "type": "text" }
    ]
  },
  {
    "name": "cospeaker_invitations",
    "type": "base",
    "schema": [
      {
        "name": "talkId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "talks", "maxSelect": 1 }
      },
      { "name": "email", "type": "email", "required": true },
      {
        "name": "status",
        "type": "select",
        "required": true,
        "options": { "values": ["pending", "accepted", "declined", "expired", "cancelled"] }
      },
      {
        "name": "invitedBy",
        "type": "relation",
        "options": { "collectionId": "speakers", "maxSelect": 1 }
      },
      { "name": "expiresAt", "type": "date" }
    ]
  },
  {
    "name": "speaker_tokens",
    "type": "base",
    "schema": [
      {
        "name": "speakerId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "speakers", "maxSelect": 1 }
      },
      {
        "name": "editionId",
        "type": "relation",
        "required": true,
        "options": { "collectionId": "editions", "maxSelect": 1 }
      },
      { "name": "token", "type": "text", "required": true },
      { "name": "expiresAt", "type": "date", "required": true }
    ]
  }
]
